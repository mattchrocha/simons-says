(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},106:function(e,t,a){},138:function(e,t,a){},14:function(e,t,a){e.exports=a.p+"static/media/TapCodeLogo.5c3fe92a.svg"},142:function(e,t,a){},145:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(27),r=a.n(s),i=(a(71),a(2)),c=a(3),l=a(5),u=a(4),m=a(6),p=(a(73),a(154)),d=a(153),g=a(19),h=a.n(g),f=(a(106),function(){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e"];return function(t){for(var a=0;a<6;a++){var n=Math.round(14*Math.random());t+=e[n]}return t}("#")}),b=a(10),y=a(22),v=!1;"undefined"!==typeof window&&(v="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var k=v,E={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"};function S(e,t,a,n){return a*((e=e/n-1)*e*e*e*e+1)+t}var O=Math.sqrt(2),x=Math.cos,C=Math.max,w=Math.min;function N(e){return w(e.duration,Date.now()-e.mouseDown)}function j(e){return e.mouseUp>0?Date.now()-e.mouseUp:0}function T(e){var t=e.duration,a=e.radius,n=.85*S(N(e),0,a,t),o=.15*S(j(e),0,a,t),s=.02*a*x(Date.now()/t);return C(0,n+o+s)}function P(e,t){return S(j(e),t,-t,e.duration)}function D(e,t){return w(P(e,t),S(N(e),0,.3,3*e.duration))}var M=function(e){var t=e.mouseUp,a=e.duration;return!t||Date.now()-t<a};function G(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];if(a)for(var n in a)e[n]=a[n]}return e}var R=2*Math.PI,B={background:!0,color:"#FFFFFF",className:"ink",duration:1e3,opacity:.25,radius:150,recenter:!0,hasTouch:k},A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).apply(this,arguments))).state={density:.2,height:0,store:function(e){var t,a=[],n=!1,o={each:function(e,t){for(var n=0,o=a.length;n<o;n++)e.call(t,a[n])},play:function(){n||(n=!0,o.update())},stop:function(){n=!1,cancelAnimationFrame(t)},getTotalOpacity:function(e){for(var t=0,n=0,o=a.length;n<o;n++)t+=D(a[n],e);return t},update:function(){(a=a.filter(M)).length?t=requestAnimationFrame(o.update):o.stop(),e()},add:function(e){a.push(e),o.play()},release:function(e){for(var t=a.length-1;t>=0;t--)if(!a[t].mouseUp)return a[t].mouseUp=e}};return o}(a.tick.bind(Object(y.a)(Object(y.a)(a)))),width:0},a.touchEvents=a.touchEvents(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"touchEvents",value:function(){return this.props.hasTouch?{onTouchStart:this._onPress.bind(this),onTouchEnd:this._onRelease.bind(this),onTouchCancel:this._onRelease.bind(this)}:{onMouseDown:this._onPress.bind(this),onMouseUp:this._onRelease.bind(this),onMouseLeave:this._onRelease.bind(this)}}},{key:"tick",value:function(){var e=this.state,t=e.ctx,a=e.density,n=e.height,o=e.width,s=e.store;t.save(),t.scale(a,a),t.clearRect(0,0,o,n),t.fillStyle=this.props.color,this.props.background&&(t.globalAlpha=s.getTotalOpacity(this.props.opacity),t.fillRect(0,0,o,n)),s.each(this.makeBlot,this),t.restore()}},{key:"makeBlot",value:function(e){var t=this.state,a=t.ctx,n=t.height,o=t.width,s=e.x,r=e.y,i=e.radius;if(a.globalAlpha=P(e,this.props.opacity),a.beginPath(),this.props.recenter){var c=Math.max(n,o);s+=function(e,t,a){return w(1,T(e)/t*2/O)*(a/2-e.x)}(e,c,o),r+=function(e,t,a){return w(1,T(e)/t*2/O)*(a/2-e.y)}(e,c,n)}a.arc(s,r,i*function(e){return T(e)/e.radius}(e),0,R),a.closePath(),a.fill()}},{key:"componentWillUnmount",value:function(){this.state.store.stop()}},{key:"pushBlot",value:function(e,t,a){var n=this,o=this.canvas;o.getDOMNode&&"function"===typeof o.getDOMNode&&(o=o.getDOMNode());var s,r=o.getBoundingClientRect(),i=r.top,c=r.bottom,l=r.left,u=r.right,m=this.state.ctx||o.getContext("2d"),p=(s=m,(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)),d=c-i,g=u-l,h=function(e,t,a){return w(.5*C(e,t),a)}(d,g,this.props.radius);this.setState({ctx:m,density:p,height:d,width:g},function(){n.state.store.add({duration:n.props.duration,mouseDown:e,mouseUp:0,radius:h,x:t-l,y:a-i})})}},{key:"setCanvas",value:function(e){this.canvas=e}},{key:"render",value:function(){var e=this.state,t=e.className,a=e.density,n=e.height,s=e.width,r=this.props.style,i=G({className:t,ref:this.setCanvas.bind(this),height:n*a,width:s*a,onDragOver:this._onRelease,style:G(E,r)},this.touchEvents);return o.a.createElement("canvas",i)}},{key:"_onPress",value:function(e){var t=e.button,a=e.ctrlKey,n=e.clientX,o=e.clientY,s=e.changedTouches,r=Date.now();if(s)for(var i=0;i<s.length;i++){var c=s[i],l=c.clientX,u=c.clientY;this.pushBlot(r,l,u)}else 0!==t||a||this.pushBlot(r,n,o)}},{key:"_onRelease",value:function(){this.state.store.release(Date.now())}}]),t}(o.a.PureComponent);A.defaultProps=B;var F=function(e){function t(e){var a;return Object(i.a)(this,t),console.log("prueba"),console.log(e),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).enterSocketRoom=function(){a.socket.emit("room",a.state.room)},a.nextPlayer=function(e){var t=e.player,n=e.message;a.setState({userMessage:{player:t,message:n}}),a.onSuccess(),setTimeout(function(){a.setState({userMessage:null})},1e3)},a.playerEliminated=function(e){var t=e.player,n=e.message;a.setState({userMessage:{player:t,message:n}}),a.onFailure(),setTimeout(function(){a.setState({userMessage:null})},1e3)},a.playerWins=function(e){var t=e.player,n=e.message;a.setState({userMessage:{player:t,message:n}}),a.onGreen(),setTimeout(function(){a.onGreen()},800),setTimeout(function(){a.setState({userMessage:null})},4e3)},a.onWrong=function(){a.setState({bigMessage:"FAIL!"}),a.onFailure(),setTimeout(function(){a.setState({bigMessage:""})},1e3)},a.onRound=function(){a.setState({bigMessage:"ROUND COMPLETE"}),a.onGreen(),setTimeout(function(){a.setState({bigMessage:""})},1e3)},a.memorize=function(){a.setState({bigMessage:"MEMORIZE THE CODE"}),a.onSuccess(),setTimeout(function(){a.setState({bigMessage:""})},1e3)},a.repeat=function(){a.setState({bigMessage:"REPEAT THE CODE"}),a.onSuccessFast(),setTimeout(function(){a.setState({bigMessage:""})},100)},a.newGame=function(){var e=document.getElementsByClassName("screenbutton")[0];e.setAttribute("style","background-color: #FF5A5A; opacity: 1"),a.setState({bigMessage:"READY"}),setTimeout(function(){e.setAttribute("style","transition: background-color 1s, opacity 1s; background-color: ".concat(a.state.bgcolor)),setTimeout(function(){e.setAttribute("style","background-color: #FF5A5A; opacity: 1"),a.setState({bigMessage:"STEADY"}),setTimeout(function(){e.setAttribute("style","transition: background-color 1s, opacity 1s; background-color: ".concat(a.state.bgcolor)),setTimeout(function(){e.setAttribute("style","background-color: #8ADF7C; opacity: 1"),a.setState({bigMessage:"GO!"}),setTimeout(function(){e.setAttribute("style","transition: background-color 1s, opacity 1s; background-color: ".concat(a.state.bgcolor)),a.setState({bigMessage:""})},900)},400)},900)},400)},900)},a.submitTap=function(){a.socket.emit("sequence",a.state.id)},a.onFailure=function(){var e=document.getElementsByClassName("screenbutton")[0];e.setAttribute("style","background-color: red; opacity: 1"),setTimeout(function(){e.setAttribute("style","transition: background-color 2s, opacity 2s; background-color: ".concat(a.state.bgcolor))},1e3)},a.onSuccess=function(){var e=document.getElementsByClassName("screenbutton")[0];e.setAttribute("style","opacity: 1;  background-color: ".concat(a.state.bgcolor)),setTimeout(function(){e.setAttribute("style","transition: opacity 1s; background-color: ".concat(a.state.bgcolor))},300)},a.onSuccessFast=function(){var e=document.getElementsByClassName("screenbutton")[0];e.setAttribute("style","opacity: 1;  background-color: ".concat(a.state.bgcolor)),setTimeout(function(){e.setAttribute("style","transition: opacity 0.5s; background-color: ".concat(a.state.bgcolor))},300)},a.onGreen=function(){var e=document.getElementsByClassName("screenbutton")[0];e.setAttribute("style","background-color: #8ADF7C; opacity: 1"),setTimeout(function(){e.setAttribute("style","transition: background-color 2s, opacity 2s; background-color: ".concat(a.state.bgcolor))},1e3)},a.state={room:e.room,id:null,bgcolor:f(),mainGameButton:e.mainGameButton,isConnected:e.isConnected,bigMessage:"",userMessage:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=h()(),this.socket.on("connect",function(){e.setState({id:e.socket.id})}),this.socket.on("feedback",function(t){"failure"===t&&e.onWrong(),"success"===t&&e.onSuccess(),"round"===t&&e.onRound(),"start"===t&&e.newGame(),"memorize"===t&&e.memorize(),"repeat"===t&&e.repeat()}),this.socket.on("player message",function(t){"next player"===t.type&&e.nextPlayer(t.content),"player eliminated"===t.type&&e.playerEliminated(t.content),"wins"===t.type&&e.playerWins(t.content)}),this.state.mainGameButton&&(this.enterSocketRoom(),this.props.startGame())}},{key:"componentDidUpdate",value:function(e){this.props.isConnected!==e.isConnected&&(this.setState({isConnected:this.props.isConnected}),this.enterSocketRoom())}},{key:"render",value:function(){return o.a.createElement("div",{className:"screenbutton",style:{backgroundColor:this.state.bgcolor},onClick:this.submitTap},o.a.createElement(A,null),o.a.createElement(b.TransitionGroup,{className:"pushbutton-messages"},this.state.bigMessage&&o.a.createElement(b.CSSTransition,{timeout:{enter:100,exit:1e3},classNames:"fademessage",key:"bigbig"},o.a.createElement("div",{className:"big-message"},this.state.bigMessage)),this.state.userMessage&&o.a.createElement(b.CSSTransition,{timeout:{enter:100,exit:1e3},classNames:"fademessage",key:"usermessage"},o.a.createElement("div",{className:"user-message-box"},o.a.createElement("div",{className:"user-message-player"},this.state.userMessage.player),o.a.createElement("div",{className:"user-message-text"},this.state.userMessage.message)))))}}]),t}(o.a.Component),q=a(28),L=a.n(q),I=function e(){var t=this;Object(i.a)(this,e),this.newGame=function(e,a){return t.service.post("/newGame",{name:e,creator:a}).then(function(e){return e.data})},this.service=L.a.create({baseURL:"".concat("https://simontaps.herokuapp.com/api","/game"),withCredentials:!0})},z=(a(134),n.Component,a(152)),U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleFormSubmit=function(t){t.preventDefault();var a=e.state.name;console.log(a),e.props.createGame(a)},e.handleChange=function(t){var a=t.target.value;e.setState({name:a})},e.state={name:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h3",null,"New game"),o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("fieldset",null,o.a.createElement("label",null,"Game name:"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("input",{type:"submit",value:"Create game"})),o.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),_=(n.Component,a(138),a(14)),Y=a.n(_),W=a(60),H=a.n(W),J=a(150),X=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"tap-navbar"},o.a.createElement(J.a,{to:"/room"},o.a.createElement("div",{className:"tap-navbrand"},o.a.createElement("img",{src:Y.a,alt:"TapCode Home"}))),o.a.createElement(J.a,{to:"/"},o.a.createElement("div",{className:"tap-navbrand"},o.a.createElement("img",{src:H.a,alt:"Access profile settings"}))))}}]),t}(n.Component);a(58);function K(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}var V=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",K,!1),window.onwheel=K,window.onmousewheel=document.onmousewheel=K,window.ontouchmove=K},Z=(a(15),a(31)),$=(a(142),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.message,a=this.props.isDisabled,n={};return a&&(n={opacity:.3}),o.a.createElement("div",{className:"on-footer"},o.a.createElement("div",{className:"bottom-message"},t),o.a.createElement("button",{className:"outline-button",onClick:function(t){return e.props.onClick()},disabled:a,style:n},o.a.createElement(A,{style:{color:"white"}}),this.props.text))}}]),t}(n.Component)),Q=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isDisabled,a={color:this.props.color},n={};t&&(n={opacity:.3});var s=Object(Z.a)({},n,a);return o.a.createElement("div",{className:"on-footer"},o.a.createElement("button",{className:"outline-button filled",onClick:function(t){return e.props.onClick()},disabled:t,style:s},o.a.createElement(A,{style:{color:"white"}}),this.props.text))}}]),t}(n.Component),ee=(a(59),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(){e.setState({connected:!0}),V()},e.state={connected:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",position:"relative",zIndex:"0"}},o.a.createElement(b.TransitionGroup,{className:"connect-button"},!this.state.connected&&o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"onmarks"},o.a.createElement("main",{className:"tap-main-container",style:{paddingBottom:"0",zIndex:"2"}},o.a.createElement("div",{className:"tap-hometext",style:{marginBottom:"-30px"}},"Connect this device as a button to game room"," ",o.a.createElement("span",{className:"bold-and-underline"},this.props.match.params.room),"?"),o.a.createElement($,{text:"Connect",isDisabled:!1,onClick:function(t){return e.handleSubmit()},color:this.props.color})))),o.a.createElement(F,{room:this.props.match.params.room,isConnected:this.state.connected}))}}]),t}(n.Component)),te=function(){return o.a.createElement("div",{style:{flex:"0 0 52px"}})},ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={message:e.message},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{width:"100vw",display:"flex",position:"relative",zIndex:"1"}},o.a.createElement("main",{className:"tap-main-container"},o.a.createElement("figure",null,o.a.createElement("img",{src:Y.a,alt:"TapCode Logo",className:"tap-homelogo one"}),o.a.createElement("img",{src:Y.a,alt:"TapCode Logo",className:"tap-homelogo two"}),o.a.createElement("img",{src:Y.a,alt:"TapCode Logo",className:"tap-homelogo three"}),o.a.createElement("img",{src:Y.a,alt:"TapCode Logo",className:"tap-homelogo four"}),o.a.createElement("img",{src:Y.a,alt:"TapCode Logo",className:"tap-homelogo five"})),o.a.createElement("div",{className:"tap-hometext small"},"Connect your phones,",o.a.createElement("br",null),"memorize the code",o.a.createElement("br",null),"and don\u2019t break",o.a.createElement("br",null),o.a.createElement("span",{className:"bold-and-underline"},"the chain")),o.a.createElement($,{text:"Play",onClick:function(t){return e.props.nextPage()},message:this.state.message})))}}]),t}(n.Component),ne=a(61),oe=a.n(ne),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;t=""===e,a.setState({isDisabled:t,roomName:e})},a.handleSubmit=function(){var e=a.state.roomName;""!==e&&a.props.getRoom(e)},a.state={message:e.message,isDisabled:!0,roomName:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.onkeydown=function(t){13===t.keyCode&&e.handleSubmit()}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{width:"100vw",display:"flex",position:"relative",zIndex:"1"}},o.a.createElement("main",{className:"tap-main-container"},o.a.createElement("figure",null,o.a.createElement("img",{src:oe.a,alt:"Set Room Step",className:"tap-homelogo one"})),o.a.createElement("div",{className:"tap-hometext"},"Add a name to the game room"),o.a.createElement("input",{placeholder:"YourGameRoom",className:"tap-input",value:this.state.roomName,onChange:function(t){return e.handleChange(t.target.value)}}),o.a.createElement($,{text:"Next >",isDisabled:this.state.isDisabled,onClick:function(t){return e.handleSubmit()},message:this.state.message})))}}]),t}(n.Component),re=a(62),ie=a.n(re),ce=a(63),le=a.n(ce),ue=a(64),me=a.n(ue),pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;""===e&&(t="0.3"),a.setState({player:e,opacity:t})},a.addPlayer=function(){var e=a.state.player;if(""!==e){var t=a.state.newPlayers;t.push(e),a.setState({newPlayers:t,player:"",isDisabled:!1,message:""}),console.log(a.state.newPlayers)}},a.handleSubmit=function(){var e=a.state.newPlayers;e.length>0&&a.props.getPlayers(e)},a.removePlayer=function(e){var t=a.state,n=t.newPlayers,o=t.isDisabled,s=t.message;n.splice(n.indexOf(e),1),0===n.length?(o=!0,s="Add at least one player"):(o=!1,s=""),a.setState({newPlayers:n,isDisabled:o,message:s})},a.state={message:"Add at least one player",isDisabled:!0,opacity:"0.3",player:"",newPlayers:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.onkeydown=function(t){13===t.keyCode&&""!==e.state.player&&e.addPlayer()}}},{key:"render",value:function(){var e=this,t=this.state.newPlayers.map(function(t){return o.a.createElement("div",{key:t,className:"new-player-box"},o.a.createElement("img",{src:me.a,className:"tap-bttn-image",alt:"remove player button",onClick:function(a){return e.removePlayer(t)}}),o.a.createElement("div",{className:"new-player-name"},t))});return o.a.createElement("div",{style:{width:"100vw",display:"flex",position:"relative",zIndex:"1"}},o.a.createElement("main",{className:"tap-main-container"},o.a.createElement("figure",null,o.a.createElement("img",{src:ie.a,alt:"Set player Section",className:"tap-homelogo one"})),o.a.createElement("div",{className:"tap-hometext"},o.a.createElement("div",{className:"new-players"},t),o.a.createElement("div",{className:"add-player"},o.a.createElement("input",{placeholder:"Add player",className:"tap-input-player",value:this.state.player,onChange:function(t){return e.handleChange(t.target.value)}}),o.a.createElement("img",{src:le.a,className:"tap-bttn-image",alt:"add player button",onClick:function(t){return e.addPlayer()},style:{opacity:this.state.opacity}}))),o.a.createElement($,{text:"Next >",isDisabled:this.state.isDisabled,onClick:function(t){return e.handleSubmit()},message:this.state.message})))}}]),t}(n.Component),de=a(65),ge=a.n(de),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;t=""===e,a.setState({isDisabled:t,roomName:e})},a.handleSubmit=function(){a.props.nextPage()},a.state={isDisabled:!0,roomName:e.roomName},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.onkeydown=function(t){13===t.keyCode&&e.handleSubmit()}}},{key:"render",value:function(){var e=this,t=!0,a=this.props.buttonsNumber,n=this.props.message;return a>1?(a="".concat(a," buttons connected"),t=!1):(a="".concat(a," button connected"),t=!0),o.a.createElement("div",{style:{width:"100vw",display:"flex",position:"relative",zIndex:"1"}},o.a.createElement("main",{className:"tap-main-container"},o.a.createElement("figure",{style:{marginBottom:"0"}},o.a.createElement("img",{src:ge.a,alt:"Set Buttons Step",className:"tap-homelogo one"})),o.a.createElement("div",{className:"tap-hometext"},"Add buttons to the game by accessing the following address in any smartphone"),o.a.createElement("div",{className:"tap-input roomname"},"tapcodeit.herokuapp.com/",o.a.createElement("br",null),this.state.roomName),o.a.createElement("div",{className:"tap-hometext",style:{marginTop:"16px"}},"Add as many as you want!"),o.a.createElement("div",{style:{marginTop:"4px",marginBottom:"-30px"}},o.a.createElement("div",{className:"button is-loading superspinner"},"Loading"),o.a.createElement("div",{className:"bottom-message",style:{marginTop:"0"}},a)),o.a.createElement($,{text:"Next >",isDisabled:t,onClick:function(t){return e.handleSubmit()},message:n})))}}]),t}(n.Component),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(){a.props.startGame()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.players.join(", ").concat("...");return o.a.createElement("div",{style:{width:"100vw",display:"flex",position:"relative",zIndex:"1"}},o.a.createElement("main",{className:"tap-main-container",style:{paddingBottom:"0"}},o.a.createElement("div",null,o.a.createElement("div",{className:"tap-players-onmarks"},t),o.a.createElement("div",{className:"tap-onyourmarks"},"On your marks!")),o.a.createElement(Q,{text:"Play",isDisabled:!1,onClick:function(t){return e.handleSubmit()},color:this.props.color})))}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(){a.props.startGame()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;this.props.players.join(", ").concat("...");return o.a.createElement("div",{style:{width:"100vw",display:"flex",position:"relative",zIndex:"1"}},o.a.createElement("main",{className:"tap-main-container",style:{paddingBottom:"0"}},o.a.createElement("div",null,o.a.createElement("div",{className:"tap-players-onmarks"}),o.a.createElement("div",{className:"tap-onyourmarks"},"Game over")),o.a.createElement(Q,{text:"Play again?",isDisabled:!1,onClick:function(t){return e.handleSubmit()},color:this.props.color})))}}]),t}(n.Component),ye=a(20),ve=function e(){var t=this;Object(i.a)(this,e),this.newGame=function(e,a){return t.service.post("/newGame",{name:e,creator:a}).then(function(e){return e.data})},this.service=L.a.create({baseURL:"".concat("https://simontaps.herokuapp.com/api","/game"),withCredentials:!0})},ke=(a(145),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).newGame=function(e){a.service.newGame(e,"5bbe158395b68f1bcbe52963").then(function(e){a.setState({game:e.name})}).catch(function(e){return console.log(e)})},a.requestButtons=function(){a.socket.emit("get buttons")},a.startGame1=function(){a.socket.emit("get start buttons")},a.startGame2=function(){a.setState({gameEnds:!1,gameOn:!0}),console.log("botones"),console.log(a.state.buttons),V(),setTimeout(function(){a.socket.emit("start game"),setTimeout(function(){a.newRound()},4500)},500)},a.findNextPlayer=function(){var e=a.state,t=e.players,n=e.round,o=e.playerIndex;console.log("busca el player");var s,r=Object(ye.a)(a.state.remainingPlayers);if(0===n)console.log("empieza de zero con el player"),s=t[0],a.setState({currentPlayer:s,playerIndex:0});else{console.log("no es ronda 0");var i,c=t[o].toString();if(r.indexOf(c)>-1)console.log(r),console.log(r.includes(c)),console.log("el last player no fue eliminado"),(i=r.indexOf(c)+1)===r.length&&(i=0),s=r[i],o=t.indexOf(s),a.setState({currentPlayer:s,playerIndex:o});else{console.log("last player SI FUE eliminado");for(var l=!1;!l;){o===t.length&&(o=0);var u=t[o];console.log("en el while",u),r.includes(u)?(s=u,a.setState({currentPlayer:s,playerIndex:o}),l=!0):o++}}}},a.newRound=function(){a.findNextPlayer(),console.log("NuevaRonda");var e=a.state,t=e.round;t++;var n={player:e.currentPlayer,message:"You're next"},o=Object(ye.a)(a.state.sequence),s=Object(ye.a)(a.state.buttons);s.splice(s.indexOf(a.socket.id),1),o.push(s[Math.floor(Math.random()*s.length)]),a.socket.emit("player message",{type:"next player",content:n}),a.setState({sequence:o,round:t}),setTimeout(function(){a.socket.emit("feedback",{feedback:"memorize"})},2e3),setTimeout(function(){a.playSequence()},4e3)},a.playSequence=function(){var e=Object(ye.a)(a.state.sequence),t=850*(e.length+1.5);console.log("esta secuencia"),console.log(e),e.forEach(function(e,t){setTimeout(function(){a.socket.emit("feedback",{id:e,feedback:"success"})},850*(t+1))}),setTimeout(function(){a.setState({isListening:!0}),a.socket.emit("feedback",{feedback:"repeat"})},t)},a.play=function(e){var t=a.state,n=t.roundSequence,o=t.sequence;if(n.push(e),a.checkSequence(n,o))n.length===o.length?(a.socket.emit("feedback",{feedback:"round"}),a.setState({roundSequence:[],isListening:!1}),setTimeout(function(){a.newRound()},3e3)):a.socket.emit("feedback",{id:e,feedback:"success"});else if(a.socket.emit("feedback",{id:e,feedback:"failure"}),1===a.state.players.length)setTimeout(function(){var e={player:a.state.currentPlayer,message:"game over!"};a.socket.emit("player message",{type:"wins",content:e}),setTimeout(function(){a.setState({gameEnds:!0,gameOn:!1}),a.props.gameOver()},6e3)},4200);else{var s=a.state.currentPlayer,r=Object(ye.a)(a.state.remainingPlayers);r.splice(r.indexOf(s),1);var i={message:"has been eliminated",player:s};a.setState({remainingPlayers:r,isListening:!1}),setTimeout(function(){a.socket.emit("player message",{type:"player eliminated",content:i})},2100),1===r.length?setTimeout(function(){var e={player:r[0],message:"wins"};a.socket.emit("player message",{type:"wins",content:e}),setTimeout(function(){a.setState({gameEnds:!0,gameOn:!1}),a.props.gameOver()},6e3)},4200):(a.setState({roundSequence:[]}),setTimeout(function(){a.newRound()},4200))}},a.checkSequence=function(e,t){return t[e.length-1]===e[e.length-1]},a.componentDidUpdate=function(){},a.service=new ve,a.state={room:e.room,players:e.players,isListening:!1,game:null,buttons:null,sequence:[],roundSequence:[],remainingPlayers:e.players,currentPlayer:null,playerIndex:0,nextPlayer:null,round:0,message:"push first button of the sequence to start",gameEnds:!1,gameOn:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=h()(),this.socket.on("connect",function(){e.socket.emit("room",e.state.room)}),this.socket.on("get buttons",function(t){e.setState({buttons:t}),e.props.getConnectedButtons(t.length)}),this.socket.on("get start buttons",function(t){t.splice(t.indexOf(e.socket.id),1),e.setState({buttons:t}),e.startGame2()}),this.socket.on("sequence",function(t){e.state.isListening&&e.play(t)}),this.socket.on("request buttons",function(){e.requestButtons()}),this.requestButtons()}},{key:"render",value:function(){var e=this,t={display:"none"};this.props.displayGame&&(t={display:"flex"});Object(Z.a)({},t);var a=null;return this.props.displayGame&&(a=o.a.createElement(F,{room:this.state.room,mainGameButton:!0,isConnected:!0,startGame:function(t){return e.startGame1()}})),a}}]),t}(n.Component)),Ee=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).nextPage=function(){"Home"===e.state.page&&(e.setState({page:null}),setTimeout(function(){e.setState({page:"SetRoom",backgroundColor:"#CFC18E"})},1020)),"SetRoom"===e.state.page&&(e.setState({page:null}),setTimeout(function(){e.setState({page:"SetPlayers",backgroundColor:"#ACBDFD"})},1020)),"SetPlayers"===e.state.page&&(e.setState({page:null}),setTimeout(function(){e.setState({page:"SetButtons",backgroundColor:"#8ECF92"})},1020)),"SetButtons"===e.state.page&&(e.setState({page:null}),setTimeout(function(){e.setState({page:"OnYourMarks",backgroundColor:"#CF8EA3"})},1020))},e.getRoom=function(t){e.setState({gameRoom:t}),e.nextPage()},e.getPlayers=function(t){var a=e.state.players;t.forEach(function(e){a.push(e)}),e.setState({players:a,game:!0,message:"Connect more than 1 button"}),e.nextPage()},e.getConnectedButtons=function(t){t>1?e.setState({connectedButtons:t,message:""}):e.setState({connectedButtons:t,message:"Connect more than 1 button"})},e.startGame=function(){e.setState({page:null}),setTimeout(function(){e.setState({displayGame:!0,backgroundColor:"transparent"})},1020)},e.gameOver=function(){e.setState({page:"GameOver",displayGame:!1,backgroundColor:"#CF8EA3"})},e.state={backgroundColor:"#BFACFD",page:"Home",message:"",gameRoom:"",players:[],game:!1,connectedButtons:0,displayGame:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"tap-main",style:{backgroundColor:this.state.backgroundColor}},o.a.createElement(te,null),!this.state.displayGame&&o.a.createElement(b.TransitionGroup,{className:"home-pages"},"Home"===e.state.page?o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"home"},o.a.createElement(ae,{nextPage:function(t){return e.nextPage()},message:e.state.message})):"SetRoom"===e.state.page?o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"roomsetup"},o.a.createElement(se,{getRoom:function(t){return e.getRoom(t)}})):"SetPlayers"===e.state.page?o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"players"},o.a.createElement(pe,{getPlayers:function(t){return e.getPlayers(t)}})):"SetButtons"===e.state.page?o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"buttons"},o.a.createElement(he,{roomName:e.state.gameRoom,message:e.state.message,buttonsNumber:e.state.connectedButtons,nextPage:function(t){return e.nextPage()}})):"OnYourMarks"===e.state.page?o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"onmarks"},o.a.createElement(fe,{players:e.state.players,color:"#CF8EA3",startGame:function(t){return e.startGame()}})):"GameOver"===e.state.page?o.a.createElement(b.CSSTransition,{timeout:{enter:1e3,exit:900},classNames:"example",key:"onmarks"},o.a.createElement(be,{players:e.state.players,color:"#CF8EA3",startGame:function(t){return e.startGame()}})):void 0),function(){if(e.state.game)return o.a.createElement(ke,{room:e.state.gameRoom,players:e.state.players,getConnectedButtons:function(t){return e.getConnectedButtons(t)},displayGame:e.state.displayGame,gameOver:function(t){return e.gameOver()}})}())}}]),t}(n.Component),Se=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(X,null),o.a.createElement(p.a,null,o.a.createElement(d.a,{exact:!0,path:"/",render:function(){return o.a.createElement(Ee,null)}}),o.a.createElement(d.a,{exact:!0,path:"/:room",component:ee})))}}]),t}(n.Component),Oe=a(151);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(147);r.a.render(o.a.createElement(Oe.a,null,o.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},15:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/NavProfile.a4ca66a8.svg"},61:function(e,t,a){e.exports=a.p+"static/media/SetRoom.27202ad6.svg"},62:function(e,t,a){e.exports=a.p+"static/media/SetPlayers.81edeb81.svg"},63:function(e,t,a){e.exports=a.p+"static/media/add.a703c750.svg"},64:function(e,t,a){e.exports=a.p+"static/media/remove.cb5a7c57.svg"},65:function(e,t,a){e.exports=a.p+"static/media/SetButtons.ddad1846.svg"},66:function(e,t,a){e.exports=a(149)},71:function(e,t,a){},73:function(e,t,a){}},[[66,2,1]]]);
//# sourceMappingURL=main.4dd093e0.chunk.js.map